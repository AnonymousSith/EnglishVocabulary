# Проект «Словарный запас изучаемого языка»

**Цель:** расширять словарный запас на изучаемом языке.

**Задача:** повторять слова, находить самые труднозапоминаемые, получать примеры употребления слов для лучшего 
запоминания из **параллельного подкорпуса** в составе **НКРЯ**, сохранять все данные в облаке etc.

**Общий принцип:** пользователь изучает множество слов, используя **Cambridge Dictionary**. Оттуда же скачивает 
xlsx-файл со словами и выгружает их в базу специальной функцией. В дальнейшем происходит работа с самой базой. Изучение 
слова происходит посредством придумывания грамматически верного предложения, где непосредственно из контекста ясно 
значение этого слова. Далее пользователь собственные примеры вносит в соответствующую базу. Программа даёт возможность 
слова повторять, напоминать значения по собственным примерам, примерам из корпуса, сохранять все пользовательские данные 
в **Google Drive**, ведёт учёт повторения – находит самые труднозапоминаемые слова и даёт возможность их повторять, etc. 

Оригинальный язык – изучаемый язык. Нативный язык – родной язык изучающего.

### Структура:
1. Модуль **«Слова»**;
2. Модуль **«Backup»**;
3. Модуль **«Повторение»**;
4. Модуль **«Примеры»** – работа с собственными и корпусными примерами. Поиск примеров, получение корпусных, backup.

### Модуль «Слова»
### Модуль «Backup»
### Модуль «Повторение»:
Сначала вывод определений выбранных слов для напоминания. Затем окно из главного поля и 6 вариантами. Задача – найти 
соответствие. 
Подсказки – собственные примеры из базы или примеры из корпуса. 

Предусмотрено 4 режима работы:
1. Слово на оригинальном – определения на нативном;
2. Определение на нативном – слова на оригинальном;
3. Определение на оригинальном – определение на нативном;
4. Определение на нативном – определение на оригинальном;

### Модуль «Примеры»:
Работа как со своими, так и с корпусными примерами. Получение корпусных примеров: скачивания Excel-файла с примерами 
некоторого слова, выгрузка из него оригинальных предложений и их переводов в базу. 

#### Основной функционал:
1. Возвращение по запросу своих или корпусных примеров употребления некоторого слова;
2. Backup;
 
#### Класс Examples:
Базовый класс, где определены:
1. __init__(f_path: str) – инициализация пути файла и примеров. Порождает assert, если файл не найден;
2. **load_examples**() – получить отсортированные примеры по указанному в __init__ пути.  Если файла нет – напечатать 
сообщение и вернуть пустой список;
2. **find**(item: str) – поиск примеров в базе, регистры приравниваются. Если примеров нет – пустой список;
3. **backup**() – backup файла по пути, переданному в __init__.  Имя файла на диске – {имя базы}_{количество примеров};
4. **count**(item: str) – количество примеров слова;
5. __bool__() – стандартный списочный;
6. __getitem__(item: int or slice) – стандартный списочный;
7. __contains__(item: str) – есть ли слово в базе примеров; 
8. __len__() – количество примеров;
9. __str__() – строка с пронумерованными примерами;
10. __iter__() – стандартный списочный;
11. __hash__() – hash от списка через преобразование его к кортежу;

#### Класс SelfExamples:
Класс-наследник, работа с собственными примерами. 
Переопределены:
1. __init__() – в конструктор базового передаётся путь к базе собственных примеров (константа **SELF_EXAMPLES_PATH**);
2. **backup**() – добавлено сообщение, что происходит backup собственных примеров;

#### Класс CorpusExamples:
Класс-наследник, работа с корпусными (**параллельный подкорпус** в составе **НКРЯ**) примерами. 
Переопределены:
1. __init__() – в конструктор базового передаётся путь к базе корпусных примеров (константа **CORPUS_EXAMPLES_PATH**).
добавлен путь, куда будут сохраняться xlsx-файлы с ответами корпуса (константа **CORPUS_XLSX_PATH**);
2. **load_examples**() – добавлено разделение на (оригинал, перевод) через константу **ORIGINAL_TEXT_END**;
3. **find**(item: str) – поиск разделён на поиск по оригиналам и переводам (**where**). Если item не найден – запрос в 
корпус на получение примеров непосредственно с item, база загружается вновь и примеры возвращаются списком: 
[(оригинал, перевод), ...]. Если же примеров в корпусе нет или поймано исключение при запросе, то возвращается пустой 
список;
4. **backup**() – добавлено сообщение, что происходит backup корпусных примеров;
5. **count**() – в соответствии с языком запроса;
5. __contains__(item: str) – разделено на поиск по оригиналам и переводам, регистр выравнен;
6. __str__() – <оригинал>. Перевод: <перевод>. Также пронумеровано;

Добавлены:
1. **new_examples**(item: str) – запросить примеры и выгрузить их из полученного xlsx-файла в базу по пути, 
переданному в __init__, пополнив self.examples. Запросы могут быть как на русском, так и на английском; Обработка ошибок
и вывод сообщений, в том числе сообщения об успешном получении примера;
2. **download_corpus_examples**(item: str) – скачать xlsx с примерами. Имя файла – само слово, путь к нему создан 
в __init__. Если файл с таким именем уже существует → примеры уже есть, новый файл не создаётся. Если пример не найден 
(Response [500]) – assert;  
3. **convert_xlsx**(f_path: str) – **f_path** – строка, имя существующего xlsx-файла, иначе – assert. Если файл нельзя 
открыть – assert. Преобразовать xlsx-файл к txt: если запрос был на английском, то последняя колонка – переводы, 
предпоследняя – оригиналы, если запрос был на русском, то последняя колонка – оригиналы, предпоследняя – переводы. 
Удаляет информацию об источнике примера, пробелы после апострофа. Дополняет текущую txt-базу: 
оригинал%граничный символ%перевод, по умолчанию граничный символ – константа **ORIGINAL_TEXT_END**(%END%).
4. **where**(item: str) – в соответствии с языком получить лямбду для обращения либо к оригиналу (x[0]), если item на 
английском, либо на перевод (x[1]), если item на русском. Регистр выравнен;
5. __call__(item: str) – поиск примеров в базе без запроса новых;